{% extends 'base.html' %}
{% block title %}Upload{% endblock %}

{% block content %}
<h2>Upload Therapy Session Video</h2>
<p>Please select a pre-recorded video file (Zoom or Google Meet session). The system will process facial and speech-based emotions from the patient.</p>

<form id="upload-form" method="POST" enctype="multipart/form-data">
  <!-- Video Upload -->
  <label for="video">Select Video:</label>
  <input type="file" name="video" required />

  <!-- View Type Dropdown -->
  <label for="view_type">Video View:</label>
  <select name="view_type" id="view_type" required>
    <option value="">--Select View--</option>
    <option value="Gallery View">Gallery View</option>
    <option value="Speaker View">Speaker View</option>
  </select>

  <!-- Face Option Dropdown -->
  <label for="face_option">Face Option:</label>
  <select name="face_option" id="face_option" required>
    <option value="">--Select Option--</option>
    <option value="Left">Left</option>
    <option value="Right">Right</option>
    <option value="Large">Large</option>
    <option value="Small">Small</option>
  </select>

  <!-- Submit Button -->
  <button type="submit" class="btn">Analyze Video</button>
</form>

<!-- Processing Popup with Timer -->
<div id="processing-popup" class="popup" style="display:none; text-align: center; margin-top: 2em;">
  <h3>üîÑ Processing your video...</h3>
  <p>This may take a few minutes depending on video length.</p>
  <p>‚è±Ô∏è Time elapsed: <span id="timer">0:00</span></p>
</div>

<!-- Load JS -->
<script src="{{ url_for('static', filename='script.js') }}"></script>
{% endblock %}
